<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div class="box">
      <h2>Registration Form</h2>
      <form action="#" id="registration_form">
        <div class="input_box">
          <input type="text" required />
          <label>URL</label>
        </div>
        <div class="input_box">
          <input type="text" required />
          <label>Username</label>
        </div>
        <div class="input_box">
          <input type="text" class="password" required />
          <label>Create Password</label>

          <div class="password_strength_box">
            <div class="password_strength">
              <p class="text"></p>
              <div class="line_box">
                <div class="line"></div>
              </div>
            </div>

            <div class="tool_tip_box">
              <span>?</span>
              <div class="tool_tip">
                <p style="list-style: none"><b>Password must be:</b></p>
                <p>At least 8 character long</p>
                <p>At least 1 uppercase letter</p>
                <p>At least 1 number</p>
                <p>At least 1 special character from !@#$%^&*</p>
              </div>
            </div>
          </div>
        </div>

        <div class="input_box">
          <input type="text" class="confirm_password" required />
          <label>Confirm Password</label>
        </div>

        <button type="submit">Create Account</button>
        <div class="link">
          Already have an account?<a href="login.html">Login</a>
        </div>
      </form>
    </div>
  </body>
  <script>
    let line = document.querySelector(".line");
    let text = document.querySelector(".text");
    let password_strength_box = document.querySelector(
      ".password_strength_box"
    );
    let password = document.querySelector(".password");

    if (password.value.length == 0) {
      password_strength_box.style.display = "none";
    }
    password.oninput = function () {
      if (password.value.length == 0) {
        password_strength_box.style.display = "none";
      }

      if (password.value.length >= 1) {
        password_strength_box.style.display = "flex";
        line.style.width = "5%";
        line.style.backgroundColor = "red";
        text.style.color = "red";
        text.innerHTML = "Weak";
      }
      if (password.value.length >= 1) {
        password_strength_box.style.display = "flex";
        line.style.width = "10%";
        line.style.backgroundColor = "red";
        text.style.color = "red";
        text.innerHTML = "Weak";
      }
      if (password.value.length >= 3) {
        password_strength_box.style.display = "flex";
        line.style.width = "20%";
        line.style.backgroundColor = "red";
        text.style.color = "red";
        text.innerHTML = "Weak";
      }
      if (password.value.length >= 4) {
        password_strength_box.style.display = "flex";
        line.style.width = "35%";
        line.style.backgroundColor = "red";
        text.style.color = "red";
        text.innerHTML = "Weak";

        if (password.value.match(/[!@#$%^&*]/)) {
          password_strength_box.style.display = "flex";
          line.style.width = "45%";
          line.style.backgroundColor = "#e9ee30";
          text.style.color = "#e9ee30";
          text.innerHTML = "Medium";
        }
      }
      if (
        password.value.length >= 5 &&
        password.value.match(/[A-Z]/) &&
        password.value.match(/[a-z]/)
      ) {
        password_strength_box.style.display = "flex";
        line.style.width = "50%";
        line.style.backgroundColor = "#e9ee30";
        text.style.color = "#e9ee30";
        text.innerHTML = "Medium";
      }
      if (password.value.length >= 6 && password.value.match(/[0-9]/)) {
        password_strength_box.style.display = "flex";
        line.style.width = "70%";
        line.style.backgroundColor = "#e9ee30";
        text.style.color = "#e9ee30";
        text.innerHTML = "Medium";
      }
      if (
        password.value.length >= 7 &&
        password.value.match(/[A-Z]/) &&
        password.value.match(/[a-z]/) &&
        password.value.match(/[0-9]/)
      ) {
        password_strength_box.style.display = "flex";
        line.style.width = "80%";
        line.style.backgroundColor = "#e9ee30";
        text.style.color = "#e9ee30";
        text.innerHTML = "Medium";
      }
      if (
        password.value.length >= 8 &&
        password.value.match(/[A-Z]/) &&
        password.value.match(/[a-z]/) &&
        password.value.match(/[0-9]/) &&
        password.value.match(/[!@#$%^&*]/)
      ) {
        password_strength_box.style.display = "flex";
        line.style.width = "100%";
        line.style.backgroundColor = "#2ccc2c";
        text.style.color = "#2ccc2c";
        text.innerHTML = "Strong";
      }
    };
    let form = document.getElementById("registration_form");
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      let p1 = document.querySelector(".password");
      let p2 = document.querySelector(".confirm_password");
      if (p1.value == p2.value) {
        alert("Details Submitted Successfully!!!");
      } else {
        alert("Please check your password!!!");
      }
    });
  </script>
</html>
